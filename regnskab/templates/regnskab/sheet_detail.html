{% extends "regnskab/base.html" %}
{% block head %}
<style>
.crosses {
	display: flex;
	position: relative;
	flex-direction: column;
	flex-wrap: wrap;
	height: 30px;
	align-content: flex-start;
}
.crosses.column-1 {
	width: 320px;
}
.crosses.column-2 {
	width: 90px;
}
.crosses.column-3 {
	width: 320px;
}
.crosses > .cross {
	height: 15px;
	width: 15px;
}
.crosses > .count {
	position: absolute;
	top: 0;
	left: 0;
	line-height: 30px;
	font-size: 20px;
	font-weight: bold;
	box-shadow: 0px 0px 8px #000;
}
</style>
{% endblock %}
{% block content %}
<h1>{{ sheet }}</h1>
<table>
<thead>
<tr>
<th></th>
<th>Navn</th>
{% for kind in sheet.purchasekind_set.all %}
<th>{{ kind.name }}</th>
{% endfor %}
</tr>
</thead>
<tbody>
{% for row in sheet.rows %}
<tr>
<td>
{% for kind in row.kinds %}{{ kind.count|floatformat }}
{% endfor %}
</td>
<td>{{ row.name|default:row.profile }}</td>
{% for kind in row.kinds %}
<td>
<span class="crosses column-{{ kind.kind.position }}">
{% for _ in kind.counter %}<span class="cross">&times;</span>{% endfor %}
{% if kind.count %}<span class="count">{{ kind.count|floatformat }}</span>{% endif %}
</span>
</td>
{% endfor %}
</tr>
{% endfor %}
</tbody>
</table>
{% endblock %}
